<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <!-- Load d3.js and c3.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.15.0/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.15/c3.js"></script>
    <!-- Load c3.css -->
    <link href="./c3-0.7.15/c3.css" rel="stylesheet">
<style>
    .view{
        width: 90%;
        text-align: center;
        margin: 50px auto;
    }
</style>
    <title>Document</title>
</head>
<body>
<div class="view">
    <div id="chart"></div>
    <div id="chart2"></div>
    <script>
        // ===================================================
        // 
        // var chart = c3.generate({
        //     data: {
        //         x: 'x',
        //         //        xFormat: '%Y%m%d', // 'xFormat' can be used as custom format of 'x'
        //         columns: [
        //             ['x', '2013-01-01', '2013-01-02', '2013-01-03', '2013-01-04', '2013-01-05', '2013-01-06'],
        //             ['data1', 30, 200, 100, 400, 150, 250],
        //             ['data2', 130, 340, 200, 500, 250, 350]
        //         ]
        //     },
        //     axis: {
        //         x: {
        //             type: 'timeseries',
        //             tick: {
        //                 format: '%Y-%m-%d'
        //             }
        //         }
        //     }
        // });
        // setTimeout(function () {
        //     chart.load({
        //         columns: [
        //             ['data3', 400, 500, 450, 700, 600, 500]
        //         ]
        //     });
        // }, 1000);
        // ===================================================
        // 橫列資料寫入JS
        // var chart = c3.generate({
        //         data: {
        //             rows: [
        //                 ['data1', 'data2', 'data3'],
        //                 [90, 120, 300],
        //                 [40, 160, 240],
        //                 [50, 200, 290],
        //                 [120, 160, 230],
        //                 [80, 130, 300],
        //                 [90, 220, 320],
        //             ]
        //         }
        //     });
        // ===================================================
        // 橫列資料寫入JS
        // var chart = c3.generate({
        //         data: {
        //             x:'ChineseID',
        //             rows: [
        //                 ['ChineseID', '2020/02/21', '2020/02/22', '2020/02/23', '2020/02/24', '2020/02/25'],
        //                 ['全球', 572.681, 602.681, 652.681, 722.681, 452.681],
        //                 ['全球已開發', 2402.804, 2302.804, 2702.804, 2902.804, 3202.804],
        //                 ['全球新興', 1084.218, 984.218, 1284.218, 1884.218, 1984.218],
        //                 ['邊境市場', 571.841, 671.841, 971.841, 371.841, 571.841],
        //                 ['全球小型', 1630.04, 1430.04, 1630.04, 1930.04, 2130.04],
        //                 ['全球已開發小型', 441.918, 401.918, 541.918, 341.918, 441.918],
        //                 ['全球新興小型', 1002.449, 902.449, 1102.449, 1502.449, 1202.449],
        //                 ['美國', 3191.163, 3191.163, 3191.163, 3191.163, 3191.163],
        //                 ['美國小型', 732.799, 732.799, 732.799, 732.799, 732.799],
        //                 ['歐洲', 1768.974, 1768.974, 1768.974, 1768.974, 1768.974],
        //                 ['歐洲小型', 431.213, 431.213, 431.213, 431.213, 431.213],
        //                 ['日本', 3285.623, 3285.623, 3285.623, 3285.623, 3285.623],
        //                 ['日本小型', 133.396, 133.396, 133.396, 133.396, 133.396],
        //                 ['亞洲除日本', 675.747, 675.747, 675.747, 675.747, 675.747]
        //             ]
        //         },
        //         axis: {
        //             x: {
        //                 type: 'category' // this needed to load string x value
        //             }
        //         }
        // });
        // ===================================================
        // 載入外部JSON檔案
        // var chart = c3.generate({
        //         data: {
        //             url: './json/test3.json',
        //             mimeType: 'json'
        //         }
        //     });
        // ===================================================
        // var chart = c3.generate({
        //         data: {
        //             json: [
        //                 { "日期": '2018/02/01', "指數": 212.245, download: 200, total: 400 },
        //                 { "日期": '2018/02/02', "指數": 213.356, download: 300, total: 400 },
        //                 { "日期": '2018/02/03', "指數": 220.456, download: 200, total: 500 },
        //                 { "日期": '2018/02/04', "指數": 245.123, download: 100, total: 500 },
        //                 { "日期": '2018/02/05', "指數": 300.201, download: 100, total: 500 }
        //             ],
        //             keys: {
        //                 x: 'name', // it's possible to specify 'x' when category axis
        //                 value: ['日期', '指數']
        //             }
        //         },
        //         axis: {
        //             x: {
        //                 type: 'category'
        //             }
        //         }
        //     });
        // ===================================================
        // var chart = c3.generate({
        //         data: {
        //             x: 'date',
        //             columns: [
        //                 ['date', '2014-01-01', '2014-01-10', '2014-01-20', '2014-01-30', '2014-02-01'],
        //                 ['sample', 30, 200, 100, 400, 150, 250]
        //             ]
        //         },
        //         axis: {
        //             x: {
        //                 type: 'timeseries'
        //             }
        //         },
        //         regions: [
        //             { start: '2014-01-05', end: '2014-01-10' },
        //             { start: new Date('2014/01/15'), end: new Date('20 Jan 2014') },
        //             { start: 1390575600000, end: 1391007600000 } // start => 2014-01-25 00:00:00, end => 2014-01-30 00:00:00
        //         ]
        //     });
        // ===================================================
            var chart = c3.generate({
                    data: {
                        url: './json/test5.json',
                        mimeType: 'json',
                        keys: {
                            x: '最新更新日期',
                            value: ['季乖離率', 'K(9)', 'D(9)', 'J(3K-2D)']
                            // value: ['淨值變化', '月均線', '季均線', '年均線']
                            // value: ['淨值變化', '月均線', '季均線', '年均線', '季乖離率', 'K(9)', 'D(9)', 'J(3K-2D)']
                        },
                        type: 'line'
                    },
                    axis: {
                    x: {
                        //預設 type=category ; timeseries / indexed
                        type: 'category'
                    }
                }
                // subchart: {
                    // 預設 show=false ; true
                    // show: false
                // }
            });
            // 設定頁面載入多少豪秒後改變 type 型態
            // setTimeout(function () {
            //         chart.transform('spline', '5day');
            //         chart.transform('bar', '10day');
            //         chart.transform('line', '20day');
            //         chart.transform('area', '60day');
            //         chart.transform('area-spline', '120day');
            //         chart.transform('scatter', '240day');
            //     }, 1000);
        // ===================================================
    </script>
</div>
</body>
</html>